(function(){var a={},b=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},c=function(a){return a.replace(/\r|\n|\t|^s+|s+$/g,"").replace(/\s+</g,"<").replace(/>\s+/g,">")},d=function(a){a=c(a);for(var d=!1,e=!1,f="var _='';",g="",h="",i=0,j=a.length;j>i;i++){var k=a.charAt(i);if(!d&&"<"==k&&j-1>i&&"%"==a.charAt(i+1))h.length>0&&(f+="_+='"+h.replace(/'/g,"\\'")+"';",h=""),d=!0,i++;else if(d&&">"==k&&"%"==a.charAt(i-1)&&(g=g.slice(0,g.length-1),d=!1,e=!0),d&&!e)g+=k;else if(e){var l=g.charAt(0);f+="="==l?"_+="+g.slice(1)+";":":"==l?"_+="+b(g.slice(1))+";":g,g="",d=!1,e=!1}else h+=k}return h.length>0&&(f+="_+='"+h.replace(/'/g,"\\'")+"';"),f+="return _",Function(Array.prototype.slice.call(arguments).slice(1),f)},f={compile:d,render:function(b,c){var d=a[b];return null==d?null:d(c)},set:function(b,c){a[b]=d(c,"model")},get:function(b){return a.hasOwnProperty(b)?a[b]:null},remove:function(b){a.hasOwnProperty(b)&&delete a[b]},clear:function(){a={}}};"undefined"!=typeof module&&module.exports?module.exports=f:window.emcty=f})();